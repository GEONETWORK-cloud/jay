(()=>{var e={};e.id=404,e.ids=[404],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},2968:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=t(482),a=t(9108),l=t(2563),i=t.n(l),n=t(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["music",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3827)),"D:\\Githubfiles\\x321\\app\\music\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8849)),"D:\\Githubfiles\\x321\\app\\music\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8982)),"D:\\Githubfiles\\x321\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Githubfiles\\x321\\app\\music\\page.tsx"],u="/music/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/music/page",pathname:"/music",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2539:(e,s,t)=>{Promise.resolve().then(t.bind(t,6758))},5303:()=>{},6758:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(5344),a=t(3729),l=t(2456),i=t(8536),n=t(7296),o=t(7521),d=t(7097),c=t(1626);let u=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899","#6366F1","#F97316"];function m(){let[e,s]=(0,a.useState)(!0),[t,m]=(0,a.useState)([]),[x,g]=(0,a.useState)([]),[p,b]=(0,a.useState)(""),[h,y]=(0,a.useState)("all"),{user:f}=(0,n.useAuth)(),[j,N]=(0,a.useState)(!1),[v,w]=(0,a.useState)(""),[k,C]=(0,a.useState)("track"),[S,q]=(0,a.useState)([]),[P,A]=(0,a.useState)(""),[L,z]=(0,a.useState)(!1),[F,E]=(0,a.useState)(""),[D,M]=(0,a.useState)(!1),[_,U]=(0,a.useState)(null),[T,$]=(0,a.useState)(""),[I,B]=(0,a.useState)("track"),[G,X]=(0,a.useState)([]),[Y,J]=(0,a.useState)(""),[R,O]=(0,a.useState)(!1),[H,K]=(0,a.useState)(null),Q={playlist:(0,a.useRef)(null),track:(0,a.useRef)(null),album:(0,a.useRef)(null)},W=e=>{switch(e){case"playlist":return r.jsx(l.SnF,{size:18});case"track":default:return r.jsx(l.Xm1,{size:18});case"album":return r.jsx(l.bcl,{size:18})}},Z=e=>{if(!e)return"Unknown date";try{if(e&&"object"==typeof e&&e.seconds)return new Date(1e3*e.seconds).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(e){return console.error("Error formatting date:",e),"Unknown date"}},V=e=>e?e.includes("embed")?e:e.replace("/track/","/embed/track/").replace("/playlist/","/embed/playlist/").replace("/album/","/embed/album/"):"",ee=async()=>{try{s(!0);let e=(0,d.IO)((0,d.hJ)(o.db,"music"),(0,d.Xo)("createdAt","desc")),t=await (0,d.PL)(e);if(t.empty){m([]),g([]),s(!1);return}let r=await Promise.all(t.docs.map(async e=>{let s={id:e.id,...e.data()};try{if(s.userId){let e=await (0,d.QT)((0,d.JU)(o.db,"users",s.userId));if(e.exists()){let t=e.data();s.uploaderInfo={username:t.displayName||t.username||"Unknown User"}}else s.uploaderInfo={username:"Unknown User"}}else s.uploaderInfo={username:"Unknown User"}}catch(e){console.warn("Error fetching user info:",e),s.uploaderInfo={username:"Unknown User"}}return s}));m(r),es(r,h,p),(0,c.c0)("Music loaded successfully","success")}catch(e){console.error("Error loading music:",e),(0,c.c0)("Failed to load music data","error")}finally{s(!1)}},es=(e,s,t)=>{let r=[...e];if("all"!==s&&(r=r.filter(e=>e.category===s)),t){let e=t.toLowerCase();r=r.filter(s=>s.uploaderInfo?.username?.toLowerCase().includes(e)||s.category.toLowerCase().includes(e)||s.tags&&s.tags.some(s=>s.name.toLowerCase().includes(e)))}g(r)},et=e=>{y(e),es(t,e,p)},er=e=>{b(e),es(t,h,e)},ea=(e,s)=>{let t=Q[e]?.current;t&&t.scrollBy({left:"left"===s?-300:300,behavior:"smooth"})},el=()=>{if(P.trim()&&S.length<5){let e=u[Math.floor(Math.random()*u.length)];q([...S,{name:P.trim(),color:e}]),A("")}},ei=e=>{let s=[...S];s.splice(e,1),q(s)},en=async e=>{if(e.preventDefault(),E(""),!f){E("You must be logged in to add music");return}if(!v.trim()||!v.includes("spotify.com")){E("Please enter a valid Spotify link");return}try{z(!0);let e={category:k,spotifyLink:v.trim(),tags:S,userId:f.uid,createdAt:(0,d.Bt)()};await (0,d.ET)((0,d.hJ)(o.db,"music"),e),w(""),C("track"),q([]),N(!1),(0,c.c0)("Music added successfully!","success"),ee()}catch(e){console.error("Error adding music:",e),E("Failed to add music. Please try again.")}finally{z(!1)}},eo=e=>{U(e),$(e.spotifyLink),B(e.category),X(e.tags||[]),M(!0)},ed=()=>{if(Y.trim()&&G.length<5){let e=u[Math.floor(Math.random()*u.length)];X([...G,{name:Y.trim(),color:e}]),J("")}},ec=e=>{let s=[...G];s.splice(e,1),X(s)},eu=async e=>{if(e.preventDefault(),E(""),!f||!_){E("You must be logged in to edit music");return}if(!T.trim()||!T.includes("spotify.com")){E("Please enter a valid Spotify link");return}try{z(!0);let e={category:I,spotifyLink:T.trim(),tags:G,updatedAt:(0,d.Bt)()},s=(0,d.JU)(o.db,"music",_.id);await (0,d.r7)(s,e),U(null),M(!1),(0,c.c0)("Music updated successfully!","success"),ee()}catch(e){console.error("Error updating music:",e),E("Failed to update music. Please try again.")}finally{z(!1)}},em=e=>{K(e),O(!0)},ex=async()=>{if(H)try{z(!0);let e=(0,d.JU)(o.db,"music",H.id);await (0,d.oe)(e),K(null),O(!1),(0,c.c0)("Music deleted successfully!","success"),ee()}catch(e){console.error("Error deleting music:",e),(0,c.c0)("Failed to delete music. Please try again.","error")}finally{z(!1)}};(0,a.useEffect)(()=>{f&&ee()},[f]),(0,a.useEffect)(()=>{let e=()=>{ee()};return window.addEventListener("initialize-music",e),()=>{window.removeEventListener("initialize-music",e)}},[]);let eg=x.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{});return(0,r.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[r.jsx(i.Z,{}),(0,r.jsxs)("div",{className:"flex-1 overflow-auto p-6",children:[(0,r.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Music Collection"}),r.jsx("p",{className:"text-gray-600",children:"Browse and manage your Spotify tracks, playlists, and albums"})]}),(0,r.jsxs)("button",{onClick:()=>N(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-200 shadow",children:[r.jsx(l.OvN,{className:"mr-2"}),r.jsx("span",{children:"Add Music"})]})]}),r.jsx("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between mb-4",children:[(0,r.jsxs)("div",{className:"relative w-full md:w-1/3",children:[r.jsx(l.jRj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by uploader, category, or tags...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:p,onChange:e=>er(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${"all"===h?"bg-indigo-100 text-indigo-800 border-2 border-indigo-300":"bg-gray-100 text-gray-700 hover:bg-gray-200 border-2 border-transparent"}`,onClick:()=>et("all"),children:"All"}),(0,r.jsxs)("button",{className:`px-4 py-2 rounded-full text-sm font-medium flex items-center transition-colors ${"playlist"===h?"bg-blue-100 text-blue-800 border-2 border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200 border-2 border-transparent"}`,onClick:()=>et("playlist"),children:[r.jsx(l.SnF,{className:"mr-1"})," Playlists"]}),(0,r.jsxs)("button",{className:`px-4 py-2 rounded-full text-sm font-medium flex items-center transition-colors ${"track"===h?"bg-green-100 text-green-800 border-2 border-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200 border-2 border-transparent"}`,onClick:()=>et("track"),children:[r.jsx(l.Xm1,{className:"mr-1"})," Tracks"]}),(0,r.jsxs)("button",{className:`px-4 py-2 rounded-full text-sm font-medium flex items-center transition-colors ${"album"===h?"bg-purple-100 text-purple-800 border-2 border-purple-300":"bg-gray-100 text-gray-700 hover:bg-gray-200 border-2 border-transparent"}`,onClick:()=>et("album"),children:[r.jsx(l.bcl,{className:"mr-1"})," Albums"]})]})]})}),e?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,r.jsxs)("div",{className:"flex justify-center items-center mb-6",children:[(0,r.jsxs)("div",{className:"animate-pulse flex space-x-3",children:[r.jsx("div",{className:"h-4 w-4 bg-indigo-500 rounded-full animate-bounce"}),r.jsx("div",{className:"h-4 w-4 bg-indigo-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),r.jsx("div",{className:"h-4 w-4 bg-indigo-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]}),r.jsx("p",{className:"ml-4 text-gray-700",children:"Loading your music collection..."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>r.jsx("div",{className:"bg-gray-100 animate-pulse rounded-lg p-4 h-72",children:r.jsx("div",{className:"h-full w-full rounded"})},s))})]}):0===x.length?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-10 text-center",children:[r.jsx(l.Xm1,{size:48,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:p?"No music found matching your search":"Your music collection is empty"}),r.jsx("p",{className:"text-gray-600 mb-6",children:p?"Try different search terms or clear your filters":"Get started by adding your favorite Spotify music"}),r.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow transition duration-200",children:"Add Your First Track"})]}):r.jsx("div",{className:"space-y-8",children:["playlist","track","album"].map(e=>eg[e]&&0!==eg[e].length?(0,r.jsxs)("div",{className:"category-section bg-white rounded-lg shadow overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center p-4 border-b border-gray-100",children:[r.jsx("div",{className:`
                      p-2 rounded-lg mr-3
                      ${"playlist"===e?"bg-blue-100 text-blue-700":"track"===e?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}
                    `,children:W(e)}),(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 capitalize",children:[e,"s (",eg[e].length,")"]})]}),(0,r.jsxs)("div",{className:"relative px-2 py-4 bg-gray-50",children:[r.jsx("button",{onClick:()=>ea(e,"left"),className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full shadow-md p-2 text-gray-600 hover:text-indigo-600 hover:shadow-lg focus:outline-none transition-all","aria-label":"Scroll left",children:r.jsx(l.YFh,{size:24})}),r.jsx("button",{onClick:()=>ea(e,"right"),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white rounded-full shadow-md p-2 text-gray-600 hover:text-indigo-600 hover:shadow-lg focus:outline-none transition-all","aria-label":"Scroll right",children:r.jsx(l.Tfp,{size:24})}),r.jsx("div",{ref:Q[e],className:"flex overflow-x-auto py-2 px-8 hide-scrollbar gap-6",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:eg[e].map(s=>r.jsx("div",{className:"music-card flex-shrink-0 w-full md:w-[400px] bg-white border border-gray-200 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("div",{className:`text-xs uppercase font-semibold px-2 py-1 rounded-full ${"playlist"===e?"bg-blue-100 text-blue-800":"track"===e?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:e}),r.jsx("div",{className:"text-xs text-gray-500 font-medium",children:Z(s.createdAt)})]}),(0,r.jsxs)("div",{className:"text-sm mb-3 flex items-center text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Added by:"}),r.jsx("span",{className:"ml-2 px-2 py-1 bg-gray-100 rounded-full",children:s.uploaderInfo?.username})]}),r.jsx("div",{className:"spotify-embed rounded-lg overflow-hidden mb-3 border border-gray-200",children:s.spotifyLink?r.jsx("iframe",{src:V(s.spotifyLink),width:"100%",height:"352",frameBorder:"0",allow:"encrypted-media",className:"rounded",style:{colorScheme:"normal"}}):(0,r.jsxs)("div",{className:"h-80 w-full flex flex-col items-center justify-center bg-gray-100 text-gray-400",children:[r.jsx(l.Xm1,{size:32,className:"mb-2"}),r.jsx("p",{children:"No player available"})]})}),s.tags&&s.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:s.tags.map((e,s)=>r.jsx("span",{className:"px-3 py-1 text-xs rounded-full text-white font-medium",style:{backgroundColor:e.color||"#6B7280"},children:e.name},s))}),f&&s.userId===f.uid&&(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t border-gray-100",children:[r.jsx("button",{onClick:()=>eo(s),className:"p-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors","aria-label":"Edit music",children:r.jsx(l.vPQ,{size:18})}),r.jsx("button",{onClick:()=>em(s),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors","aria-label":"Delete music",children:r.jsx(l.Ybf,{size:18})})]})]})},s.id))})]})]},e):null)}),j&&r.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[(0,r.jsxs)("div",{className:"p-5 border-b border-gray-200 flex justify-between items-center",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Add Music"}),r.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:r.jsx(l.q5L,{size:24})})]}),(0,r.jsxs)("form",{onSubmit:en,className:"p-5",children:[F&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 flex items-start",children:[r.jsx(l.H33,{className:"mt-0.5 mr-2 flex-shrink-0"}),r.jsx("p",{children:F})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsxs)("label",{className:`
                      flex-1 flex items-center justify-center p-3 rounded-lg border-2 cursor-pointer
                      ${"track"===k?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:bg-gray-50"}
                    `,children:[r.jsx("input",{type:"radio",name:"category",value:"track",className:"sr-only",checked:"track"===k,onChange:()=>C("track")}),r.jsx(l.Xm1,{className:"mr-2"}),r.jsx("span",{children:"Track"})]}),(0,r.jsxs)("label",{className:`
                      flex-1 flex items-center justify-center p-3 rounded-lg border-2 cursor-pointer
                      ${"playlist"===k?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}
                    `,children:[r.jsx("input",{type:"radio",name:"category",value:"playlist",className:"sr-only",checked:"playlist"===k,onChange:()=>C("playlist")}),r.jsx(l.SnF,{className:"mr-2"}),r.jsx("span",{children:"Playlist"})]}),(0,r.jsxs)("label",{className:`
                      flex-1 flex items-center justify-center p-3 rounded-lg border-2 cursor-pointer
                      ${"album"===k?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:bg-gray-50"}
                    `,children:[r.jsx("input",{type:"radio",name:"category",value:"album",className:"sr-only",checked:"album"===k,onChange:()=>C("album")}),r.jsx(l.bcl,{className:"mr-2"}),r.jsx("span",{children:"Album"})]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"spotifyLink",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spotify Link"}),r.jsx("input",{id:"spotifyLink",type:"text",placeholder:"https://open.spotify.com/track/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:v,onChange:e=>w(e.target.value),required:!0}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Paste a Spotify link to a track, album, or playlist"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (optional)"}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx("input",{type:"text",placeholder:"Add tag...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-1 focus:ring-indigo-500",value:P,onChange:e=>A(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),el())}),r.jsx("button",{type:"button",onClick:el,className:"px-4 py-2 bg-indigo-600 text-white rounded-r-lg hover:bg-indigo-700",disabled:S.length>=5,children:"Add"})]}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add up to 5 tags to categorize your music"}),S.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:S.map((e,s)=>(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm text-white",style:{backgroundColor:e.color},children:[e.name,r.jsx("button",{type:"button",onClick:()=>ei(s),className:"ml-2 focus:outline-none",children:r.jsx(l.q5L,{size:16})})]},s))})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:L||!v,children:L?(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"inline-block animate-spin mr-2",children:"◌"}),"Adding..."]}):"Add Music"})]})]})]})}),D&&_&&r.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:[(0,r.jsxs)("div",{className:"p-5 border-b border-gray-200 flex justify-between items-center",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Edit Music"}),r.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:r.jsx(l.q5L,{size:24})})]}),(0,r.jsxs)("form",{onSubmit:eu,className:"p-5",children:[F&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 flex items-start",children:[r.jsx(l.H33,{className:"mt-0.5 mr-2 flex-shrink-0"}),r.jsx("p",{children:F})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"editCategory",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsxs)("label",{className:`
                      flex-1 flex items-center justify-center p-3 rounded-lg border-2 cursor-pointer
                      ${"track"===I?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:bg-gray-50"}
                    `,children:[r.jsx("input",{type:"radio",name:"editCategory",value:"track",className:"sr-only",checked:"track"===I,onChange:()=>B("track")}),r.jsx(l.Xm1,{className:"mr-2"}),r.jsx("span",{children:"Track"})]}),(0,r.jsxs)("label",{className:`
                      flex-1 flex items-center justify-center p-3 rounded-lg border-2 cursor-pointer
                      ${"playlist"===I?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}
                    `,children:[r.jsx("input",{type:"radio",name:"editCategory",value:"playlist",className:"sr-only",checked:"playlist"===I,onChange:()=>B("playlist")}),r.jsx(l.SnF,{className:"mr-2"}),r.jsx("span",{children:"Playlist"})]}),(0,r.jsxs)("label",{className:`
                      flex-1 flex items-center justify-center p-3 rounded-lg border-2 cursor-pointer
                      ${"album"===I?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:bg-gray-50"}
                    `,children:[r.jsx("input",{type:"radio",name:"editCategory",value:"album",className:"sr-only",checked:"album"===I,onChange:()=>B("album")}),r.jsx(l.bcl,{className:"mr-2"}),r.jsx("span",{children:"Album"})]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"editSpotifyLink",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spotify Link"}),r.jsx("input",{id:"editSpotifyLink",type:"text",placeholder:"https://open.spotify.com/track/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:T,onChange:e=>$(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (optional)"}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx("input",{type:"text",placeholder:"Add tag...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-1 focus:ring-indigo-500",value:Y,onChange:e=>J(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),ed())}),r.jsx("button",{type:"button",onClick:ed,className:"px-4 py-2 bg-indigo-600 text-white rounded-r-lg hover:bg-indigo-700",disabled:G.length>=5,children:"Add"})]}),G.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:G.map((e,s)=>(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm text-white",style:{backgroundColor:e.color},children:[e.name,r.jsx("button",{type:"button",onClick:()=>ec(s),className:"ml-2 focus:outline-none",children:r.jsx(l.q5L,{size:16})})]},s))})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:L||!T,children:L?(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"inline-block animate-spin mr-2",children:"◌"}),"Saving..."]}):"Save Changes"})]})]})]})}),R&&H&&r.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(l.Ybf,{className:"text-red-600",size:24})}),(0,r.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Delete ",H.category]}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Are you sure you want to delete this ",H.category,"? This action cannot be undone."]})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4",children:[r.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex-1",children:"Cancel"}),r.jsx("button",{type:"button",onClick:ex,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex-1 disabled:opacity-50",disabled:L,children:L?"Deleting...":"Delete"})]})]})})]})]})}},8849:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(5036);function a({children:e}){return r.jsx(r.Fragment,{children:e})}t(2)},3827:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let r=(0,t(6843).createProxy)(String.raw`D:\Githubfiles\x321\app\music\page.tsx`),{__esModule:a,$$typeof:l}=r,i=r.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,318,506,432,173],()=>t(2968));module.exports=r})();